<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Happy birthday</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      height: 100vh;
      background: linear-gradient(45deg, #ff9a9e, #fad0c4, #fbc2eb, #a18cd1);
      background-size: 400% 400%;
      animation: gradientBG 4s infinite;
      display: flex;
      justify-content: center;
      align-items: center;
      font-family: 'Comic Sans MS', sans-serif;
    }
     

    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .button {
      margin: 10px 0px;
      padding: 15px 40px;
      font-size: 2rem;
      color: white;
      background: #ff6f61;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
      transition: transform 0.3s ease, background 0.3s;
    }

    .button:hover { 
      background: #ff4757;
    }

    #fireworksCanvas,
    #confettiCanvas,
    #balloonCanvas {
      /* opacity: 0; */
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }

    #messages {
      position: absolute;
      top: 10%;
      left: 50%;
      transform: translateX(-50%);
      font-size: 2rem;
      color: white;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.6);
      display: none;
      z-index: 2;
    }
    .main-page {
      text-align: center;      
      transform: translateY(-49px);
    }
    .header {
      display: flex;
      justify-content: center;
      flex-direction: column;
    }
    #cakeblown{
      display: none;
    }
    #birthdaybanner {
      height: 200px;
    }
    .fun-gif {
      display: none;
      position: relative;
      height: 600px;
      width: 390px ;
    }
    .dancing1 {
      position: absolute;
      right: 20px;
    }
    .dancing2 {
      position: absolute;
      left: 20px;
    }
    .dancing3 {
      position: absolute;
      left: -20px;
      height: 200px;
      bottom: 10px;
    }
    .dancing4 { 
      position: absolute;
      right: 20px;
      bottom: 10px;
    }
    .ndancing {
      position: absolute;
      top: 20%;
      left: 36%;
      height: 280px;
    }
    .dancing5 {
      position: absolute; 
      height: 80px;
      left: 12px;
      top: 36%;
    }
    .dancing6 {
      position: absolute;
      height: 80px;
      right: 12px;
      top: 36%;
    }
    .reward-div {
      position: relative;
      display: none;
      color: white;
      height: 300px;
      width: 300px;
      border-radius: 10px;
      margin: auto;
    }
    .reward-detail {
      position: absolute;
     
      transform: rotateY(270deg);
      color: #1F51FF;
      background-color: white;
    }
    .reward-preview{
      position: absolute;
      background-color: #1F51FF;
      height: 300px;
      width: 300px;
    }
    .funny-img {
      height: 180px;
      width: 200px;
      margin-bottom: 20px;
    }

    .balloon-div{
      height: 40px;
      width: 40px;
      position: relative;
      z-index: 9440;
    }
    #balloon2id {
        margin-left: 300px;
    }
    
    .balloon-fly {
      height: 140px;
      width: 140px;
      position: relative;
      z-index: 3232;
      animation: ballonanimation 20s infinite;
    }
    
   
    @keyframes ballonanimation {
      from { transform: translateY(0px);}
      to { transform: translateY(-1000px);}
    }
   
    #ballon1cap,#ballon2cap {
      opacity: 0;;
      /* position: absolute; */
    }
     

  </style>
</head>
<body>
  <!-- <button class="button" id="funButton">Click Me!</button> -->
  <div id="messages">ðŸŽ‰ You're a Star! ðŸŽ‰</div>
  <div class="main-page" id="main">
    
    <div class="header" id="header">
      <img id="birthdaybanner" src="assets/birthdaybanner.png">
      <h2>Hello Netra</h2>
      <h2>I want to make something special for your birthday</h2>
      <h2>Normal wishing is boring<br>lets celebrate in unique way</h2>
    </div>
    <div class="cake-image">
        <img id="cakeunblown" src="assets/happyfun1.png" alt="cakenotblown">
        <img id="cakeblown" src="assets/happyfun.webp" alt="cakeblown">
        <button class="button" onclick="cakebtnclicked(event)" id="funButton">Make a wish,<br> blow the Candle</button>
    </div>
    <div class="fun-gif" id="dancemf">
      <img class="dancing1" id="dancing1" src="assets/catdancing.gif">
      <img class="dancing2" id="dancing2" src="assets/catdancing2.gif">
      <img class="ndancing" id="ndancing" src="assets/ndancing.gif">
      <img class="dancing3" id="dancing3" src="assets/catdancing3.gif">
      <img class="dancing4" id="dancing4" src="assets/dogdancing.gif">
      <img class="dancing5" id="dancing5" src="assets/jetha.gif">
      <img class="dancing6" id="dancing6" src="assets/danceskeleton.gif">
      <div class="reward-div" id="rewardiv">
        <div class="reward-preview" id="rewardpreview" onclick="funnyClick(event)">
          <h1 class="reward-text">Yow won reward from god for your birthday</h1>
          <h1>Tap To reveal</h1>
        </div>

        <div class="reward-detail" id="rewardetail">
          <h1>Better Luck Next Time <br>ðŸ¤£ðŸ¤£</h1>
         <img class="funny-img" src="assets/funny.jpg" alt="funny">
        </div>
      </div>

      
    </div>
    <div class="balloon-div">
      <div id="balloon1id">
        <img id="balloon1img"   class="balloon-fly" src="assets/balonn.gif" onclick="balloon1('1')" alt="balon">
        <img id="ballon1cap" class="balloon-fly" src="assets/conf.gif">
      </div>
      <div id="balloon2id">
        <img id="balloon2img"   class="balloon-fly" src="assets/balloon2.gif" onclick="balloon1('2')" alt="balon">
        <img id="ballon2cap" class="balloon-fly" src="assets/conf.gif">
      </div>
      
    </div>
    <!-- <canavas id="confettiCanvas"></canavas> -->


</div>
  <canvas id="confettiCanvas"></canvas>
  <canvas id="fireworksCanvas"></canvas>
  <canvas id="balloonCanvas"></canvas>

  <script>
    // Canvas setup
    const confettiCanvas = document.getElementById('confettiCanvas');
    const fireworksCanvas = document.getElementById('fireworksCanvas');
    const balloonCanvas = document.getElementById('balloonCanvas');
    const confettiCtx = confettiCanvas.getContext('2d');
    const fireworksCtx = fireworksCanvas.getContext('2d');
    const balloonCtx = balloonCanvas.getContext('2d');
    confettiCanvas.width = fireworksCanvas.width = balloonCanvas.width = window.innerWidth;
    confettiCanvas.height = fireworksCanvas.height = balloonCanvas.height = window.innerHeight;

    // Random Messages
    const messages = document.getElementById('messages');
    const funButton = document.getElementById('funButton');
    let speedy = 2;
    let audioElementDance = new Audio('assets/realdance.mp3');
    let audioElement = new Audio('assets/happybirthday.mp3');
    audioElement.play();
    let allowClick = true;

    // Confetti Animation
    let confetti = [];
    function createConfetti() {
      confetti = [];
      for (let i = 0; i < 200; i++) {
        confetti.push({
          x: Math.random() * confettiCanvas.width,
          y: Math.random() * confettiCanvas.height - confettiCanvas.height,
          r: Math.random() * 6 + 2,
          color: `hsl(${Math.random() * 360}, 100%, 70%)`,
          tilt: Math.random() * 10 - 5,
          speed: Math.random() * speedy + 1,
        });
      }
    }

    function drawConfetti() {
      confettiCtx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);

      confetti.forEach((c) => {
        confettiCtx.beginPath();
        confettiCtx.arc(c.x, c.y, c.r, 0, Math.PI * 2);
        confettiCtx.fillStyle = c.color;
        confettiCtx.fill();
        c.y += c.speed;
        c.tilt += Math.random() * 0.1 - 0.05;

        if (c.y > confettiCanvas.height) c.y = -c.r;
      });
    }
    //audio element
    

   const cakebtnclicked = ()=>{
    if(allowClick){
      allowClick = false;
    // document.getElementById('confettiCanvas').style.opacity = 1;
    document.getElementById('cakeunblown').style.display = 'none';
    document.getElementById('cakeblown').style.display = 'inline';
    speedy = 6;
     
    setTimeout(()=>{
      document.getElementById('cakeblown').style.display = 'none';
      document.getElementById('funButton').innerHTML='Lets Celebrate!'
      document.getElementById('header').style.display='none';
      document.getElementById('dancemf').style.display='block';
      audioElement.pause();
      // document.body.style.animation = 'gradientBG 0.4s infinite';
      // document.body.style.background = 'linear-gradient(45deg, red, #fad0c4, #fbc2eb, #a18cd1)'
      audioElement.pause();
      audioElementDance.play();
      change();
      

    },3000);
    setTimeout(()=>{
      document.getElementById('rewardiv').style.display='block';
    },15000);
    
   }
  }
  
   // change background every second

 var tt=0;
function change() { 
  setInterval(()=>{ 
    
  
  var color = ["black", "#F93827", "green", "blue","#F6FA70"];
  document.body.style.background = color[tt];
  tt = (tt + 1) % color.length;
  },100)

} 
 
function funnyClick(e){
  document.getElementById('rewardpreview').style.display='none';
  document.getElementById('rewardetail').style.transform='rotateY(0deg)';
  setTimeout(()=>{
 document.getElementById('rewardiv').style.display='none';
  },4000)
}

    // Event Listeners
    funButton.addEventListener('click', () => {
      createConfetti();
      
    });

    fireworksCanvas.addEventListener('click', (e) => {
      createFirework(e.clientX, e.clientY);
    });

    // Animations
    function animate() {
      drawConfetti();
     
      
      requestAnimationFrame(animate);
    }

    createConfetti();
    animate();

    function balloon1(i) {
     document.getElementById(`balloon${i}img`).style.display='none';
     document.getElementById(`ballon${i}cap`).style.opacity='1';
     setTimeout(()=>{
      document.getElementById(`ballon${i}cap`).style.display='none';
     },1000);
    }
  </script>
</body>
</html>
